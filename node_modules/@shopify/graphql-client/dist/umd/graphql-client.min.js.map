{"version":3,"file":"graphql-client.min.js","sources":["../../../src/graphql-client/constants.ts","../../../src/graphql-client/utilities.ts","../../../src/graphql-client/http-fetch.ts","../../../src/graphql-client/graphql-client.ts"],"sourcesContent":[null,null,null,null],"names":["CLIENT","MIN_RETRIES","MAX_RETRIES","GQL_API_ERROR","UNEXPECTED_CONTENT_TYPE_ERROR","NO_DATA_OR_ERRORS_ERROR","CONTENT_TYPES","json","multipart","SDK_VARIANT_HEADER","SDK_VERSION_HEADER","DEFAULT_SDK_VARIANT","DEFAULT_CLIENT_VERSION","RETRY_WAIT_TIME","RETRIABLE_STATUS_CODES","DEFER_OPERATION_REGEX","BOUNDARY_HEADER_REGEX","HEADER_SEPARATOR","NEWLINE_SEPARATOR","formatErrorMessage","message","client","startsWith","getErrorMessage","error","Error","JSON","stringify","getErrorCause","cause","undefined","combineErrors","dataArray","flatMap","errors","validateRetries","retries","getKeyValueIfValid","key","value","Array","isArray","Object","keys","length","buildDataObjectByPath","path","data","newData","pop","combineObjects","baseObject","newObject","reduce","acc","buildCombinedDataObject","initialDatum","remainingData","generateHttpFetch","clientLogger","customFetchApi","fetch","defaultRetryWaitTime","retriableCodes","httpFetch","async","requestParams","count","maxRetries","nextCount","maxTries","response","type","content","ok","includes","status","retryAfter","headers","get","waitTime","Promise","resolve","setTimeout","sleep","parseInt","lastResponse","retryAttempt","processJSONResponse","extensions","networkStatusCode","getResponseDataFromChunkBodies","chunkBodies","map","parse","payload","incremental","hasNext","incrementalArray","validateResponseData","responseErrors","combinedData","graphQLErrors","url","logger","config","logContent","generateClientLogger","operation","options","variables","overrideHeaders","overrideUrl","overrideRetries","body","query","flatHeaders","entries","join","toString","method","generateFetch","request","props","test","statusText","contentType","generateRequest","requestStream","responseContentType","Symbol","asyncIterator","processedResponse","createJsonResponseAsyncIterator","boundaryHeader","match","boundary","getReader","streamBodyIterator","decoder","TextDecoder","chunk","decode","reader","readResult","read","done","cancel","getStreamBodyIterator","responseExtensions","streamHasNext","buffer","textChunk","indexOf","lastBoundaryIndex","lastIndexOf","slice","split","filter","trim","readStreamChunk","responseData","find","datum","createMultipartResponseAsyncInterator","generateRequestStream"],"mappings":"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"}